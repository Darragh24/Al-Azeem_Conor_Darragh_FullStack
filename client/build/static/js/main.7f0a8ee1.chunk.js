(window.webpackJsonpecom_platform=window.webpackJsonpecom_platform||[]).push([[0],{20:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},39:function(e,t,a){e.exports=a.p+"static/media/image.43ed6474.png"},40:function(e,t,a){e.exports=a(75)},62:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(36),l=a.n(r),o=a(2),s=a(3),i=a(5),u=a(4),m=a(6),d=a(1),p=a(16),h=a(7),f=a.n(h),E=2,g="http://localhost:4000",b=(a(62),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).handleATC=function(e){e.preventDefault();var t=new FormData;t.append("productId",a.props.product._id),t.append("userId",localStorage._id),t.append("quantity",1),t.append("productPrice",a.props.product.price),f.a.post("".concat(g,"/cart"),t,{headers:{authorization:localStorage.token,"Content-type":"multipart/form-data"}}).then(function(e){e.data?e.data.errorMessage?console.log(e.data.errorMessage):(console.log(e.data),console.log("Added to cart")):console.log("Not added to cart")})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.product.photos.map(function(e){return f.a.get("".concat(g,"/products/photo/").concat(e.filename)).then(function(t){t.data?t.data.errorMessage?console.log(t.data.errorMessage):document.getElementById(e._id).src="data:;base64,".concat(t.data.image):console.log("Record not found")})})}},{key:"render",value:function(){return c.a.createElement("div",{className:"box-container"},c.a.createElement(d.b,{to:"/ProductPage/"+this.props.product._id},this.props.product.photos.map(function(e,t){return c.a.createElement("img",{key:e._id,id:e._id,className:"image-".concat(t),alt:""})})),c.a.createElement("div",{className:"info-button-container"},c.a.createElement("div",{className:"box-info-container"},c.a.createElement(d.b,{to:"/ProductPage/"+this.props.product._id},c.a.createElement("h3",{className:"product-name-p"},this.props.product.name)),c.a.createElement("div",{className:"rating-container"},c.a.createElement("i",{className:"fa fa-star"}),c.a.createElement("i",{className:"fa fa-star"}),c.a.createElement("i",{className:"fa fa-star"}),c.a.createElement("i",{className:"fa fa-star"}),c.a.createElement("i",{className:"fa fa-star"})),c.a.createElement("h4",{className:"discount-h3"},"$",(this.props.product.price/.8).toFixed(2)),c.a.createElement("h3",{className:"price-h3"},"\u20ac",this.props.product.price)),localStorage.accessLevel>=E&&c.a.createElement("div",{className:"box-button-container"},c.a.createElement(d.b,{className:"edit-button",to:"/EditProduct/"+this.props.product._id},c.a.createElement("i",{className:"fa fa-pencil"})),c.a.createElement(d.b,{className:"del-button",to:"/DeleteProduct/"+this.props.product._id},c.a.createElement("i",{className:"fa fa-trash-o"})),this.props.product.stock>0?c.a.createElement("p",null,c.a.createElement("button",{className:"atc-button",onClick:this.handleATC},c.a.createElement("p",null,"+",c.a.createElement("i",{className:"fa fa-shopping-cart"})))):c.a.createElement("p",{className:"out-of-stock-p"},"Out of Stock")),1==localStorage.accessLevel&&(this.props.product.stock>0?c.a.createElement("p",null,c.a.createElement("button",{className:"atc-button",onClick:this.handleATC},c.a.createElement("p",null,"+",c.a.createElement("i",{className:"fa fa-shopping-cart"})))):c.a.createElement("p",{className:"out-of-stock-p"},"Out of Stock")),0==localStorage.accessLevel&&(this.props.product.stock>0?c.a.createElement("p",null,c.a.createElement(d.b,{className:"link-atc-button",to:"/Register"},"+",c.a.createElement("i",{className:"fa fa-shopping-cart"}))):c.a.createElement("p",{className:"out-of-stock-p"},"Out of Stock"))))}}]),t}(n.Component)),v=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("span",{tabIndex:"0",className:this.props.className,onClick:function(t){e.props.onClick(t)}},this.props.value)}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),f.a.post("".concat(g,"/users/logout")).then(function(e){console.log("User logged out"),localStorage.clear(),a.setState({isLoggedIn:!1})}).catch(function(e){})},a.state={isLoggedIn:!0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,this.state.isLoggedIn?null:c.a.createElement(p.a,{to:"/AllProducts"}),c.a.createElement("div",{className:"logout-text"},c.a.createElement("i",{className:"fa  fa-sign-out"}),c.a.createElement(v,{value:"Log out",className:"logout-button",onClick:this.handleSubmit})))}}]),t}(n.Component),N=(a(34),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"nav-container"},c.a.createElement("p",{className:"brand-name-p"},c.a.createElement(d.b,{className:"brand-button",to:"/Home"},"T4A")),c.a.createElement("div",{className:"link-container"},c.a.createElement(d.b,{className:"button",to:"/Home"},"Home"),c.a.createElement(d.b,{className:"button",to:"/AllProducts"},"Shop"),localStorage.accessLevel>=E?c.a.createElement(d.b,{className:"button",to:"/Users"},"Users"):null,1==localStorage.accessLevel?c.a.createElement(d.b,{className:"button",to:"/PurchaseHistory/".concat(localStorage._id)},"Purchase History"):null),localStorage.accessLevel>0?c.a.createElement("div",{className:"right-side-nav-container"},c.a.createElement(d.b,{className:"nav-atc-button",to:"/Cart/".concat(localStorage._id)},c.a.createElement("i",{className:"fa fa-shopping-cart"})),"null"!==localStorage.profilePhoto?c.a.createElement("img",{className:"profile-pic",id:"profilePhoto",src:"data:;base64,".concat(localStorage.profilePhoto),alt:""}):c.a.createElement("img",{className:"profile-pic",src:"https://via.placeholder.com/250",alt:""}),c.a.createElement("div",{className:"logout-container"},c.a.createElement(y,null),c.a.createElement(d.b,{className:"button",to:"/Account/".concat(localStorage._id)},c.a.createElement("i",{className:"fa fa-user"}),"View Account"))):c.a.createElement("div",{className:"login-container"},c.a.createElement(d.b,{className:"login-button",to:"/Login"},c.a.createElement("i",{className:"fa fa-user"})),c.a.createElement(d.b,{className:"nav-atc-button",to:"/Cart/".concat(localStorage._id)},c.a.createElement("i",{className:"fa fa-shopping-cart"}))))}}]),t}(n.Component)),S=(a(68),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"footer-container"},localStorage.accessLevel<1?c.a.createElement("div",{className:"contact-form-container"},c.a.createElement("h1",{className:"contact-form-h1"},"Subscribe to our Emails"),c.a.createElement("h4",{className:"contact-form-h2"},"We will email you about new products & discounts"),c.a.createElement("div",{className:"contact-form-input-container"},c.a.createElement("input",{type:"text",className:"contact-form-input",placeholder:"Email"}),c.a.createElement("button",{type:"submit"},c.a.createElement("i",{className:"fa fa-arrow-right"})))):null,c.a.createElement("div",{className:"footer-link-container"},c.a.createElement("div",{className:"info-container"},c.a.createElement("h2",null,"Check us Out!"),c.a.createElement(d.b,{className:"help-button",to:"/"},"About Us")),c.a.createElement("div",{className:"help-container"},c.a.createElement("h2",null,"Need Help?"),c.a.createElement(d.b,{className:"help-button",to:"/"},"Contact Us"),c.a.createElement(d.b,{className:"help-button",to:"/"},"Terms Of Service"),c.a.createElement(d.b,{className:"help-button",to:"/"},"Shipping Policy")),c.a.createElement("div",{className:"brand-container"},c.a.createElement("h2",null,"T-Shirts4All"),c.a.createElement("p",{className:"mission"},"We sell the best t-shirts in the world"),c.a.createElement("p",{className:"our-email"},"info@tshirts4all.com "),c.a.createElement("p",{className:"our-number"},"Call Us: (012) 345-6789"))))}}]),t}(n.Component)),C=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"marquee-container"},c.a.createElement("marquee",{width:"100%",direction:"left",height:"100px",scrollamount:"10"},"20% OFF + Free Shipping"))}}]),t}(n.Component),O=(a(69),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSearchChange=function(e){var t=a.state.originalProducts.filter(function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())});a.setState({products:t})},a.handleSortChange=function(e){var t,n=a.state.products;if("alphabet-asc"===e.target.value)t=n.slice().sort(function(e,t){return e.name.localeCompare(t.name)});else if("alphabet-dsc"===e.target.value)t=n.slice().sort(function(e,t){return t.name.localeCompare(e.name)});else if("price-asc"===e.target.value)t=n.slice().sort(function(e,t){return e.price-t.price});else{if("price-dsc"!==e.target.value)return a.setState({products:a.state.originalProducts});t=n.slice().sort(function(e,t){return t.price-e.price})}a.setState({products:t})},a.handleStockChange=function(e){var t,n=a.state.originalProducts;if("available"===e.target.value)t=n.filter(function(e){return e.stock>0});else{if("unavailable"!==e.target.value)return a.setState({products:a.state.originalProducts});t=n.filter(function(e){return e.stock<=0})}a.setState({products:t})},a.state={products:[],originalProducts:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat(g,"/products")).then(function(t){t.data?t.data.errorMessage?console.log(t.data.errorMessage):e.setState({products:t.data,originalProducts:t.data}):console.log("Record not found")})}},{key:"render",value:function(){return c.a.createElement("div",{className:"main-container"},c.a.createElement(N,null),c.a.createElement(C,null),c.a.createElement("div",{className:"heading-container"},c.a.createElement("h1",{className:"heading-h1"},"Products")),c.a.createElement("div",{className:"tool-buttons-container"},c.a.createElement("div",{className:"search-box-container"},c.a.createElement("input",{className:"search-box",placeholder:"Search by name",value:this.state.search,onChange:this.handleSearchChange})),c.a.createElement("div",{className:"filter-container"},c.a.createElement("label",null,"Filter "),c.a.createElement("select",{name:"price",className:"dropdown1",onChange:this.handleStockChange},c.a.createElement("option",{key:"all",value:"all"},"All"),c.a.createElement("option",{key:"available",value:"available"},"In Stock"),c.a.createElement("option",{key:"unavailable",value:"unavailable"},"Out of Stock"))),c.a.createElement("div",{className:"sort-dropdown-container"},c.a.createElement("label",null,"Sort By : "),c.a.createElement("select",{name:"price",className:"dropdown1",onChange:this.handleSortChange},c.a.createElement("option",{key:"default",value:"default"},"Default"),c.a.createElement("option",{key:"alphabet-asc",value:"alphabet-asc"},"Alphabetically, A-Z"),c.a.createElement("option",{key:"alphabet-dsc",value:"alphabet-dsc"},"Alphabetically, Z-A"),c.a.createElement("option",{key:"price-asc",value:"price-asc"},"Price, low to high"),c.a.createElement("option",{key:"price-dsc",value:"price-dsc"},"Price , high to low"))),localStorage.accessLevel>=E?c.a.createElement("div",{className:"add-product-container"},c.a.createElement(d.b,{className:"blue-button",to:"/AddProduct"},"Add New Product")):null),c.a.createElement("div",{className:"collection-container"},this.state.products.map(function(e){return c.a.createElement("div",{className:"product-box-container"},c.a.createElement(b,{key:e._id,product:e}))})),c.a.createElement(S,null))}}]),t}(n.Component)),P=a(9),k=(a(20),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.handleFileChange=function(e){a.setState({selectedFiles:e.target.files})},a.handleSubmit=function(e){e.preventDefault(),a.setState({wasSubmittedAtLeastOnce:!0});var t=a.validate();if(Object.keys(t).every(function(e){return t[e]})){var n=new FormData;if(n.append("name",a.state.name),n.append("price",a.state.price),n.append("stock",a.state.stock),a.state.selectedFiles)for(var c=0;c<a.state.selectedFiles.length;c++)n.append("productPhotos",a.state.selectedFiles[c]);f.a.put("".concat(g,"/products/").concat(a.props.match.params.id),n,{headers:{authorization:localStorage.token}}).then(function(e){a.setState({redirectToDisplayAllProducts:!0})}).catch(function(e){a.setState({wasSubmittedAtLeastOnce:!0})})}},a.state={name:"",price:"",stock:"",photos:"",selectedFiles:null,redirectToDisplayAllProducts:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.inputToFocus.focus(),f.a.get("".concat(g,"/products/").concat(this.props.match.params.id),{headers:{authorization:localStorage.token}}).then(function(t){e.setState({name:t.data.name,price:t.data.price,stock:t.data.stock,photos:t.data.photos})}).catch(function(e){})}},{key:"validateName",value:function(){return/^[A-Za-z]+$/.test(String(this.state.name))}},{key:"validatePrice",value:function(){var e=parseInt(this.state.price);return e>=1&&e<=1e3}},{key:"validateStock",value:function(){return parseInt(this.state.stock)<=1e3}},{key:"validate",value:function(){return{name:this.validateName(),price:this.validatePrice(),stock:this.validateStock()}}},{key:"render",value:function(){var e=this,t="";return this.state.wasSubmittedAtLeastOnce&&(t=c.a.createElement("div",{className:"error"},"Product Details are incorrect",c.a.createElement("br",null))),c.a.createElement("div",{className:"main-container"},c.a.createElement(N,null),c.a.createElement(C,null),c.a.createElement("div",{className:"form-container"},c.a.createElement("h2",{className:"product-form-h2"},"Edit Product"),this.state.redirectToDisplayAllProducts?c.a.createElement(p.a,{to:"/AllProducts"}):null,t,c.a.createElement("div",{className:"input-label-conatiner"},c.a.createElement("label",{className:"edit-label"},"Product Name :"),c.a.createElement("input",{ref:function(t){e.inputToFocus=t},type:"text",name:"name",className:"edit-form-input",value:this.state.name,onChange:this.handleChange,placeholder:"Product-Name"})),c.a.createElement("div",{className:"input-label-conatiner"},c.a.createElement("label",{className:"edit-label"},"Price :"),c.a.createElement("input",{type:"text",name:"price",className:"edit-form-input",value:this.state.price,onChange:this.handleChange,placeholder:"Price"})),c.a.createElement("div",{className:"input-label-conatiner"},c.a.createElement("label",{className:"edit-label"},"Product Stock :"),c.a.createElement("input",{type:"text",name:"stock",className:"edit-form-input",value:this.state.stock,onChange:this.handleChange,placeholder:"Stock-Quantity"})),c.a.createElement("div",{className:"photo-upload-container"},c.a.createElement("input",{type:"file",id:"fileInput",className:"file-input",multiple:!0,onChange:this.handleFileChange,style:{border:"1px solid #ced4da",borderRadius:".25rem",padding:".375rem .75rem"}})),c.a.createElement("div",{className:"add-cancel-container"},c.a.createElement(v,{value:"Edit",className:"add-button",onClick:this.handleSubmit}),c.a.createElement(d.b,{className:"cancel-button",to:"/AllProducts"},"Cancel"))))}}]),t}(n.Component)),j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.handleFileChange=function(e){a.setState({selectedFiles:e.target.files})},a.handleSubmit=function(e){e.preventDefault();var t=new FormData;if(t.append("name",a.state.name),t.append("price",a.state.price),t.append("stock",a.state.stock),a.state.selectedFiles)for(var n=0;n<a.state.selectedFiles.length;n++)t.append("productPhotos",a.state.selectedFiles[n]);f.a.post("".concat(g,"/products"),t,{headers:{authorization:localStorage.token,"Content-type":"multipart/form-data"}}).then(function(e){a.setState({redirectToDisplayAllProducts:!0})}).catch(function(e){a.setState({wasSubmittedAtLeastOnce:!0})})},a.state={name:"",price:"",stock:"",selectedFiles:null,redirectToDisplayAllProducts:localStorage.accessLevel<E},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.inputToFocus.focus()}},{key:"validateName",value:function(){return/^[A-Za-z]+$/.test(String(this.state.name))}},{key:"validatePrice",value:function(){var e=parseInt(this.state.price);return e>=1&&e<=1e3}},{key:"validateStock",value:function(){var e=parseInt(this.state.stock);return e>=1&&e<=1e3}},{key:"validate",value:function(){return{name:this.validateName(),price:this.validatePrice(),stock:this.validateStock()}}},{key:"render",value:function(){var e=this,t="";return this.state.wasSubmittedAtLeastOnce&&(t=c.a.createElement("div",{className:"error"},"Product Details are invalid",c.a.createElement("br",null))),c.a.createElement("div",{className:"main-container"},c.a.createElement(N,null),c.a.createElement(C,null),c.a.createElement("div",{className:"form-container"},c.a.createElement("h2",{className:"product-form-h2"},"Add Product"),this.state.redirectToDisplayAllProducts?c.a.createElement(p.a,{to:"/AllProducts"}):null,t,c.a.createElement("input",{ref:function(t){e.inputToFocus=t},type:"text",name:"name",className:"product-form-input",value:this.state.name,onChange:this.handleChange,placeholder:"Product-Name"}),c.a.createElement("input",{type:"text",name:"price",className:"product-form-input",value:this.state.price,onChange:this.handleChange,placeholder:"Price"}),c.a.createElement("input",{type:"text",name:"stock",className:"product-form-input",value:this.state.stock,onChange:this.handleChange,placeholder:"Stock-Quantity"}),c.a.createElement("div",{className:"photo-upload-container"},c.a.createElement("input",{type:"file",id:"fileInput",className:"file-input",multiple:!0,onChange:this.handleFileChange,style:{border:"1px solid #ced4da",borderRadius:".25rem",padding:".375rem .75rem"}})),c.a.createElement("div",{className:"add-cancel-container"},c.a.createElement(v,{value:"Add",className:"add-button",onClick:this.handleSubmit}),c.a.createElement(d.b,{className:"cancel-button",to:"/AllProducts"},"Cancel"))))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.resetUsersModel=function(){f.a.post("".concat(g,"/users/reset_user_collection")).then(function(e){console.log("User collection reset"),localStorage.clear(),a.setState({isReset:!0})}).catch(function(e){})},a.state={isReset:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("form",{className:"form-container",noValidate:!0,id:"loginOrRegistrationForm"},this.state.isReset?c.a.createElement(p.a,{to:"/DisplayAllCars"}):null,c.a.createElement("p",null,'"Reset User Database" is only for testing purposes.',c.a.createElement("br",null),"All code on the client-side and server-side relating to resetting the database should be removed from any development release"),c.a.createElement(v,{value:"Reset User Database",className:"red-button",onClick:this.resetUsersModel}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("p",null,"Reset the database and set up an administrator with:",c.a.createElement("br",null)," * email ",c.a.createElement("strong",null,"admin@admin.com"),c.a.createElement("br",null)," * password ",c.a.createElement("strong",null,'123!"\xa3qweQWE')),c.a.createElement(d.b,{className:"red-button",to:"/DisplayAllCars"},"Cancel"))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={redirectToDisplayAllProducts:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.delete("".concat(g,"/products/").concat(this.props.match.params.id),{headers:{authorization:localStorage.token}}).then(function(t){t.data?(t.data.errorMessage?console.log(t.data.errorMessage):console.log("Record deleted"),e.setState({redirectToDisplayAllProducts:!0})):console.log("Record not deleted")})}},{key:"render",value:function(){return c.a.createElement("div",null,this.state.redirectToDisplayAllProducts?c.a.createElement(p.a,{to:"/AllProducts"}):null)}}]),t}(n.Component),T=a(12),D=(a(70),a(23)),x=(a(71),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={redirectToDisplayAllProducts:!1,colour:"red"},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.messageType===t.messageType.SUCCESS?this.setState({heading:"PayPal Transaction Confirmation",message:"Your PayPal transaction was successful.",colour:"green"}):this.props.match.params.messageType===t.messageType.CANCEL?this.setState({heading:"PayPal Transaction Cancelled",message:"You cancelled your PayPal transaction. Therefore, the transaction was not completed."}):this.props.match.params.messageType===t.messageType.ERROR?this.setState({heading:"PayPal Transaction Error",message:"An error occured when trying to perform your PayPal transaction. The transaction was not completed. Please try to perform your transaction again."}):console.log("The 'messageType' prop that was passed into the PayPalMessage component is invalid. It must be one of the following: PayPalMessage.messageType.SUCCESS, PayPalMessage.messageType.CANCEL or PayPalMessage.messageType.ERROR")}},{key:"render",value:function(){return c.a.createElement("div",{className:"main-container"},c.a.createElement("div",{className:"payPalMessage"},this.state.redirectToDisplayAllProducts?c.a.createElement(p.a,{to:"/AllProducts"}):null,c.a.createElement("h3",{className:"paypal-h3-".concat(this.state.colour)},this.state.heading),c.a.createElement("p",{className:"paypal-p"},this.props.match.params.message),c.a.createElement("p",{className:"paypal-p"},this.state.message),this.props.match.params.messageType===t.messageType.SUCCESS?c.a.createElement("p",{className:"paypal-p"},"Your PayPal payment confirmation is",c.a.createElement("span",{id:"payPalPaymentID"},this.props.match.params.payPalPaymentID)):null,c.a.createElement("p",{className:"paypal-continue-button",id:"payPalPaymentIDButton"},c.a.createElement(d.b,{className:"paypal-".concat(this.state.colour,"-button"),to:"/AllProducts"},"Continue"))))}}]),t}(n.Component));x.messageType={SUCCESS:"success",ERROR:"error",CANCEL:"cancel"};var I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).createOrder=function(e,t){return t.order.create({purchase_units:[{amount:{value:a.props.price}}]})},a.onApprove=function(e){var t=new FormData;if(a.props.productInfos){var n=[];a.props.productInfos.forEach(function(e){n.push({productId:e.productId,productName:e.productName,quantity:e.quantity,productPrice:e.productPrice})}),t.append("productInfos",JSON.stringify(n))}f.a.post("".concat(g,"/sales/").concat(e.orderID,"/").concat(localStorage._id,"/").concat(a.props.price,"/").concat(a.state.user.name,"/").concat(a.state.user.email),t,{headers:{authorization:localStorage.token,"Content-type":"multipart/form-data"}}).then(function(t){a.setState({payPalMessageType:x.messageType.SUCCESS,payPalOrderID:e.orderID,redirectToPayPalMessage:!0})}).catch(function(e){a.setState({payPalMessageType:x.messageType.ERROR,redirectToPayPalMessage:!0})}),f.a.delete("".concat(g,"/cart/").concat(localStorage._id),{headers:{authorization:localStorage.token}}).then(function(e){console.log("Cart emptied")}).catch(function(e){})},a.onError=function(e){a.setState({payPalMessageType:x.messageType.ERROR,redirectToPayPalMessage:!0})},a.onCancel=function(e){a.setState({payPalMessageType:x.messageType.CANCEL,redirectToPayPalMessage:!0})},a.state={redirectToPayPalMessage:!1,payPalMessageType:null,payPalOrderID:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat(g,"/users/").concat(localStorage._id),{headers:{authorization:localStorage.token}}).then(function(t){t.data?t.data.errorMessage?console.log(t.data.errorMessage):e.setState({user:t.data}):console.log("Record not found")})}},{key:"render",value:function(){return c.a.createElement("div",null,this.state.redirectToPayPalMessage?c.a.createElement(p.a,{to:"/PayPalMessage/".concat(this.state.payPalMessageType,"/").concat(this.state.payPalOrderID)}):null,c.a.createElement(D.b,{options:{currency:"EUR","client-id":"AZajxhZoKq7XkGeK4R8O4rJPxDxA6tfgiEhxW2OjQVmYCRdh9NOT0TCi7DleD8Zg4_fFlA7-h-pQ_uZA"}},c.a.createElement(D.a,{style:{layout:"horizontal"},createOrder:this.createOrder,onApprove:this.onApprove,onError:this.onError,onCancel:this.onCancel})))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleQuantityChange=function(e){var t=e.target.getAttribute("index"),n={userId:localStorage._id,productId:a.state.cart[t].productId,quantity:parseInt(e.target.value)};f.a.put("".concat(g,"/cart/").concat(localStorage._id),n,{headers:{authorization:localStorage.token}}).then(function(e){if(e.data.deleteMessage){a.setState({cart:e.data.cart});var n=0;a.state.cart.forEach(function(e){n+=e.quantity*e.productPrice}),a.setState({subTotal:n})}else{var c=Object(T.a)(a.state.cart);c[t]=e.data,a.setState({cart:c});var r,l=0;a.state.cart.forEach(function(e){l+=e.quantity*e.productPrice,r=a.state.products.filter(function(t){return t._id!==e.productId})}),a.setState({products:r}),a.setState({subTotal:l}),console.log("Cart updated")}});var c=0;a.state.cart.forEach(function(e){c+=e.quantity*e.productPrice}),a.setState({subTotal:c})},a.state={cart:[],products:[],subTotal:0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat(g,"/cart/").concat(this.props.match.params.id),{headers:{authorization:localStorage.token}}).then(function(t){t.data?t.data.errorMessage?console.log(t.data.errorMessage):t.data.deleteMessage?e.setState({cart:t.data.cart}):(e.setState({cart:t.data}),console.log("Succesful Request")):console.log("Record not found")})}},{key:"getProductInfo",value:function(){var e=this,t=[];return this.state.cart.forEach(function(a){var n=e.state.products.find(function(e){return e._id===a.productId});n&&t.push({productId:a.productId,productName:n.name,quantity:a.quantity,productPrice:a.productPrice})}),t}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(this.state.cart!==t.cart){var n=0;this.state.cart.map(function(e){return n+=e.quantity*e.productPrice,f.a.get("".concat(g,"/products/").concat(e.productId),{headers:{authorization:localStorage.token}}).then(function(e){a.state.products.some(function(t){return t._id===e.data._id})||a.setState(function(t){return{products:[].concat(Object(T.a)(t.products),[e.data])}})}).catch(function(e){}),a.getProductInfo(),a.setState({subTotal:n})})}this.state.products!==t.products&&this.state.products.map(function(e){return e.photos.map(function(e){return f.a.get("".concat(g,"/products/photo/").concat(e.filename)).then(function(t){document.getElementById(e._id).src="data:;base64,".concat(t.data.image)}).catch(function(e){})})})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"main-container"},c.a.createElement(N,null),c.a.createElement(C,null),c.a.createElement("div",{className:"cart-container"},c.a.createElement("h2",{className:"cart-h2"},"Your Cart"),this.state.cart.length>0&&this.state.products?this.state.cart.map(function(t,a){var n=e.state.products.find(function(e){return e._id===t.productId});return n?c.a.createElement("div",{className:"cart-product-info-container"},c.a.createElement("div",{className:"product-photo-container"},n.photos.map(function(e,t){return c.a.createElement("img",{className:"cart-main-image-".concat(t),key:e._id,id:e._id,alt:""})})),c.a.createElement("div",{className:"product-name-container"},c.a.createElement("span",null,n.name),c.a.createElement("div",{className:"quantity-container"},c.a.createElement("button",{className:"quantity-btn",value:1,index:a,onClick:e.handleQuantityChange},"+"),c.a.createElement("span",{className:"item-quantity-text"},e.state.cart[a].quantity),c.a.createElement("button",{className:"quantity-btn",value:-1,index:a,onClick:e.handleQuantityChange},"-"))),c.a.createElement("div",{className:"product-price-container"},c.a.createElement("span",null,"$",e.state.cart[a]&&e.state.cart[a].productPrice?(e.state.cart[a].productPrice*e.state.cart[a].quantity).toFixed(2):""))):c.a.createElement("p",null,"Couldn't load products")}):c.a.createElement("p",null,"No items in cart"),this.state.cart.length>0?c.a.createElement("div",null,c.a.createElement("div",{className:"subtotal-container"},c.a.createElement("span",{className:"subtotal-text"},"Subtotal:"),c.a.createElement("span",{className:"subtotal-num"},"$",this.state.subTotal.toFixed(2))),c.a.createElement("div",{className:"paypal-button"},c.a.createElement(I,{price:this.state.subTotal,productInfos:this.getProductInfo(),quantity:this.state.quantity}))):null))}}]),t}(n.Component),M=(a(72),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.handleATC=function(e){e.preventDefault();var t=new FormData;t.append("productId",a.state.product._id),t.append("userId",localStorage._id),t.append("quantity",1),t.append("productPrice",a.state.product.price),f.a.post("".concat(g,"/cart"),t,{headers:{authorization:localStorage.token,"Content-type":"multipart/form-data"}}).then(function(e){console.log("Added to cart")}).catch(function(e){})},a.state={product:[],quantity:1,item_price:0,total:0,loading:!0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"validateQuantity",value:function(){var e=parseInt(this.state.quantity);return e>=1&&e<=100}},{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat(g,"/products/").concat(this.props.match.params.id),{headers:{authorization:localStorage.token}}).then(function(t){t.data?t.data.errorMessage?console.log(t.data.errorMessage):(e.setState({product:t.data}),console.log("Succesful Request")):console.log("Record not found")})}},{key:"componentDidUpdate",value:function(e){this.state.product!==e.product&&this.state.product.photos.map(function(e){return f.a.get("".concat(g,"/products/photo/").concat(e.filename)).then(function(t){t.data?t.data.errorMessage?console.log(t.data.errorMessage):document.getElementById(e._id).src="data:;base64,".concat(t.data.image):console.log("Record not found")})})}},{key:"render",value:function(){return c.a.createElement("div",{className:"main-container"},c.a.createElement(N,null),c.a.createElement(C,null),c.a.createElement("div",{className:"content-container"},c.a.createElement("div",{className:"left-container"},this.state.product.photos&&this.state.product.photos.length>0&&this.state.product.photos.map(function(e,t){return c.a.createElement("img",{className:"main-image-".concat(t),key:e._id,id:e._id,alt:""})})),c.a.createElement("div",{className:"right-container"},c.a.createElement("div",{className:"title-container"},c.a.createElement("h1",null,this.state.product.name),c.a.createElement("div",{"price-discount-conatiner":!0},c.a.createElement("div",{className:"rating-container"},c.a.createElement("i",{className:"fa fa-star"}),c.a.createElement("i",{className:"fa fa-star"}),c.a.createElement("i",{className:"fa fa-star"}),c.a.createElement("i",{className:"fa fa-star"}),c.a.createElement("i",{className:"fa fa-star"})),c.a.createElement("h3",{className:"discount-h3"},"$",(this.state.product.price/.8).toFixed(2)),c.a.createElement("h3",{className:"price-h3"},"$",this.state.product.price))),c.a.createElement("div",{className:"description-container"},c.a.createElement("p",null,"This is a very high quality t-shirt and you should buy it"),c.a.createElement("h3",null,"Quantity"),c.a.createElement("input",{className:"quantity",type:"number",name:"quantity",min:"1",max:"100",onChange:this.handleChange,value:this.state.quantity}),this.state.product.stock>0?c.a.createElement("div",{className:"buying-buttons"},c.a.createElement("button",{className:"product-page-atc-button",onClick:this.handleATC},c.a.createElement("p",null,"Add To Cart +",c.a.createElement("i",{className:"fa fa-shopping-cart"}))),c.a.createElement("div",{className:"paypal-buy-button"},c.a.createElement(I,{price:this.state.product.price*this.state.quantity,productId:this.state.product._id,quantity:this.state.quantity}))):c.a.createElement("p",null,"Sorry this item is out of stock")))),c.a.createElement(S,null))}}]),t}(n.Component)),F=(a(73),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.state={user:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat(g,"/users/").concat(localStorage._id),{headers:{authorization:localStorage.token}}).then(function(t){t.data?t.data.errorMessage?console.log(t.data.errorMessage):(e.setState({user:t.data}),console.log("Succesful Request")):console.log("Record not found")})}},{key:"render",value:function(){return console.log("User",this.state.user),c.a.createElement("div",{className:"main-container"},c.a.createElement(N,null),c.a.createElement(C,null),c.a.createElement("div",{className:"account-container"},c.a.createElement("h1",{className:"account-h1"},"Your Account"),"null"!==localStorage.profilePhoto?c.a.createElement("img",{className:"account-profile-pic",id:"profilePhoto",src:"data:;base64,".concat(localStorage.profilePhoto),alt:""}):c.a.createElement("img",{className:"account-profile-pic",src:"https://via.placeholder.com/250",alt:""}),c.a.createElement("h4",null,"Username: ",this.state.user.name),c.a.createElement("h4",null,"Email: ",this.state.user.email),c.a.createElement("h4",null,"Access Level: ",this.state.user.accessLevel)))}}]),t}(n.Component)),R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){f.a.post("".concat(g,"/users/login/").concat(a.state.email,"/").concat(a.state.password)).then(function(e){localStorage._id=e.data._id,localStorage.name=e.data.name,localStorage.accessLevel=e.data.accessLevel,localStorage.profilePhoto=e.data.profilePhoto,localStorage.token=e.data.token,a.setState({isLoggedIn:!0})}).catch(function(e){console.log("err.response.status",e.response.status),console.log("err.response.statusText",e.response.statusText),console.log("err.response.data",e.response.data),a.setState({wasSubmittedAtLeastOnce:!0})})},a.state={email:"",password:"",isLoggedIn:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e="";return this.state.wasSubmittedAtLeastOnce&&(e=c.a.createElement("div",{className:"error"},"Login Details are incorrect",c.a.createElement("br",null))),c.a.createElement("div",{className:"main-container"},c.a.createElement(N,null),c.a.createElement(C,null),c.a.createElement("form",{className:"form-container",noValidate:!0},c.a.createElement("h2",{className:"login-h2"},"Login"),c.a.createElement("h4",{className:"login-h4"},"Don't have an account?",c.a.createElement(d.b,{className:"create-account-button",to:"/Register"},"Create One")),this.state.isLoggedIn?c.a.createElement(p.a,{to:"/AllProducts"}):null,e,c.a.createElement("input",{className:"login-input",type:"email",name:"email",placeholder:"Email",autoComplete:"email",value:this.state.email,onChange:this.handleChange}),c.a.createElement("input",{className:"login-input",type:"password",name:"password",placeholder:"Password",autoComplete:"password",value:this.state.password,onChange:this.handleChange}),c.a.createElement("div",{className:"confirmation-buttons-container"},c.a.createElement(v,{value:"Login",className:"form-login-button",onClick:this.handleSubmit}),c.a.createElement(d.b,{className:"form-cancel-button",to:"/AllProducts"},"Cancel"))))}}]),t}(n.Component),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.handleFileChange=function(e){a.setState({selectedFile:e.target.files[0]})},a.handleSubmit=function(e){e.preventDefault();var t=new FormData;t.append("profilePhoto",a.state.selectedFile),f.a.post("".concat(g,"/users/register/").concat(a.state.name,"/").concat(a.state.email,"/").concat(a.state.password),t,{headers:{"Content-type":"multipart/form-data"}}).then(function(e){console.log("User registered and logged in"),localStorage._id=e.data._id,localStorage.name=e.data.name,localStorage.accessLevel=e.data.accessLevel,localStorage.profilePhoto=e.data.profilePhoto,localStorage.token=e.data.token,a.setState({isRegistered:!0})}).catch(function(e){a.setState({wasSubmittedAtLeastOnce:!0})})},a.state={name:"",email:"",password:"",confirmPassword:"",selectedFile:null,isRegistered:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t="";return this.state.wasSubmittedAtLeastOnce&&(t=c.a.createElement("div",{className:"error"},"Error: All fields must be filled in",c.a.createElement("br",null))),c.a.createElement("div",{className:"main-container"},c.a.createElement(N,null),c.a.createElement(C,null),c.a.createElement("form",{className:"form-container",noValidate:!0,id:"loginOrRegistrationForm",onSubmit:this.handleSubmit},this.state.isRegistered?c.a.createElement(p.a,{to:"/AllProducts"}):null,c.a.createElement("h2",{className:"register-h2"},"Create an account"),c.a.createElement("h4",{className:"login-h4"},"Already have an account?",c.a.createElement(d.b,{className:"create-account-button",to:"/Login"},"Sign in"))," ",t,c.a.createElement("input",{className:"register-input",name:"name",type:"text",placeholder:"Name",autoComplete:"name",value:this.state.name,onChange:this.handleChange,ref:function(t){e.inputToFocus=t}}),c.a.createElement("input",{className:"register-input",name:"email",type:"email",placeholder:"Email",autoComplete:"email",value:this.state.email,onChange:this.handleChange}),c.a.createElement("input",{className:"register-input",name:"password",type:"password",placeholder:"Password",autoComplete:"password",title:"Password)",value:this.state.password,onChange:this.handleChange}),c.a.createElement("input",{className:"register-input",name:"confirmPassword",type:"password",placeholder:"Confirm password",autoComplete:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleChange}),c.a.createElement("input",{type:"file",onChange:this.handleFileChange}),c.a.createElement("div",{className:"register-confirmation-buttons-container"},c.a.createElement(v,{value:"Register",className:"form-register-button",onClick:this.handleSubmit}),c.a.createElement(d.b,{className:"form-register-cancel-button",to:"/AllProducts"},"Cancel"))))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSearchChange=function(e){var t=a.state.originalUsers.filter(function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())});a.setState({users:t})},a.handleSortChange=function(e){var t;if("alphabet-asc"===e.target.value)t=Object(T.a)(a.state.originalUsers).sort(function(e,t){return e.name.localeCompare(t.name)});else{if("alphabet-dsc"!==e.target.value)return a.setState({users:a.state.originalUsers});t=Object(T.a)(a.state.originalUsers).sort(function(e,t){return t.name.localeCompare(e.name)})}a.setState({users:t})},a.handleFilterChange=function(e){var t;if("2"===e.target.value)t=a.state.originalUsers.filter(function(e){return 2===e.accessLevel});else{if("1"!==e.target.value)return a.setState({users:a.state.originalUsers});t=a.state.originalUsers.filter(function(e){return 1===e.accessLevel})}a.setState({users:t})},a.state={users:[],originalUsers:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat(g,"/users")).then(function(t){e.setState({users:t.data,originalUsers:t.data})}).catch(function(e){})}},{key:"render",value:function(){return c.a.createElement("div",{className:"main-container"},c.a.createElement(N,null),c.a.createElement(C,null),c.a.createElement("div",{className:"tool-buttons-container"},c.a.createElement("div",{className:"search-box-container"},c.a.createElement("input",{className:"search-box",placeholder:"Search by name",value:this.state.search,onChange:this.handleSearchChange})),c.a.createElement("div",{className:"filter-container"},c.a.createElement("label",null,"Filter "),c.a.createElement("select",{name:"price",className:"dropdown1",onChange:this.handleFilterChange},c.a.createElement("option",{key:"all",value:"all"},"All"),c.a.createElement("option",{key:"admin",value:2},"Admin"),c.a.createElement("option",{key:"normal-user",value:1},"Normal User"))),c.a.createElement("div",{className:"sort-dropdown-container"},c.a.createElement("label",null,"Sort By : "),c.a.createElement("select",{name:"price",className:"dropdown1",onChange:this.handleSortChange},c.a.createElement("option",{key:"default",value:"default"},"Default"),c.a.createElement("option",{key:"alphabet-asc",value:"alphabet-asc"},"Alphabetically, A-Z"),c.a.createElement("option",{key:"alphabet-dsc",value:"alphabet-dsc"},"Alphabetically, Z-A")))),c.a.createElement("div",{className:"table-container"},c.a.createElement("tbody",{className:"user-table"},c.a.createElement("tr",{className:"row-header"},c.a.createElement("th",null,"Name"),c.a.createElement("th",null,"Email"),c.a.createElement("th",null,"Access Level"),c.a.createElement("th",null,"Sale History"),c.a.createElement("th",null,"Actions")),this.state.users.map(function(e,t){return c.a.createElement("tr",{className:"row-".concat(t)},c.a.createElement("td",{"data-cell":"name"},e.name),c.a.createElement("td",{"data-cell":"email"},e.email),c.a.createElement("td",{"data-cell":"accessLevel"},e.accessLevel),c.a.createElement("td",{"data-cell":"salesHistory"},c.a.createElement(d.b,{className:"history-button",to:"/SalesHistory/"+e._id},"View History")),c.a.createElement("td",{"data-cell":"actions"},c.a.createElement("div",{className:"actions-container"},c.a.createElement(d.b,{className:"del-button",to:"/DeleteUser/"+e._id},"Delete"))))}))))}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={redirectToDisplayAllUsers:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.delete("".concat(g,"/users/").concat(this.props.match.params.id),{headers:{authorization:localStorage.token}}).then(function(t){e.setState({redirectToDisplayAllUsers:!0})}).catch(function(e){})}},{key:"render",value:function(){return c.a.createElement("div",null,this.state.redirectToDisplayAllUsers?c.a.createElement(p.a,{to:"/Users"}):null)}}]),t}(n.Component),z=a(39),H=a.n(z),Q=(a(74),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"main-container"},c.a.createElement(N,null),c.a.createElement(C,null),c.a.createElement("div",{className:"home-container"},c.a.createElement("h1",{className:"home-h1"},"WELCOME TO TSHIRTS4ALL"),c.a.createElement("div",{class:"image-container"},c.a.createElement("img",{className:"home-img",src:H.a,alt:""}),c.a.createElement(d.b,{className:"image-button",to:"/AllProducts"},"Shop Now!"))),c.a.createElement(S,{className:"home-footer"}))}}]),t}(n.Component)),$=a(18),B=function(e){var t=e.component,a=e.exact,n=e.path,r=Object($.a)(e,["component","exact","path"]);return c.a.createElement(p.b,{exact:a,path:n,render:function(e){return localStorage.accessLevel>0?c.a.createElement(t,Object.assign({},e,r)):c.a.createElement(p.a,{to:"/AllProducts"})}})},Z=function(e){var t=e.component,a=e.exact,n=e.path,r=Object($.a)(e,["component","exact","path"]);return c.a.createElement(p.b,{exact:a,path:n,render:function(e){return localStorage.accessLevel>1?c.a.createElement(t,Object.assign({},e,r)):c.a.createElement(p.a,{to:"/DisplayAllCars"})}})},W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSearchChange=function(e){var t=e.target.value.toLowerCase(),n=a.state.originalSales.filter(function(e){return e.productInfos.some(function(e){return e.productName.toLowerCase().includes(t)})});a.setState({sales:n})},a.handleSortChange=function(e){var t,n=a.state.sales;if("price-asc"===e.target.value)t=n.slice().sort(function(e,t){return e.price-t.price});else{if("price-dsc"!==e.target.value)return a.setState({sales:a.state.originalSales});t=n.slice().sort(function(e,t){return t.price-e.price})}a.setState({sales:t})},a.handleFilterChange=function(e){var t;"oldest"===e.target.value?(t=Object(T.a)(a.state.originalSales)).reverse():t=Object(T.a)(a.state.originalSales),a.setState({sales:t})},a.state={sales:[],originalSales:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat(g,"/sales/").concat(this.props.match.params.id)).then(function(t){e.setState({sales:t.data,originalSales:t.data})}).catch(function(e){})}},{key:"render",value:function(){return c.a.createElement("div",{className:"main-container"},c.a.createElement(N,null),c.a.createElement(C,null),c.a.createElement("div",{className:"tool-buttons-container"},c.a.createElement("div",{className:"search-box-container"},c.a.createElement("input",{className:"search-box",placeholder:"Search by Product-Name",value:this.state.search,onChange:this.handleSearchChange})),c.a.createElement("div",{className:"filter-container"},c.a.createElement("label",null,"Filter "),c.a.createElement("select",{name:"price",className:"dropdown1",onChange:this.handleFilterChange},c.a.createElement("option",{key:"all",value:"all"},"All"),c.a.createElement("option",{key:"newest",value:"newest"},"Purchase Date: Newest to Oldest"),c.a.createElement("option",{key:"oldest",value:"oldest"},"Purchase Date: Oldest to Newest"))),c.a.createElement("div",{className:"sort-dropdown-container"},c.a.createElement("label",null,"Sort By : "),c.a.createElement("select",{name:"price",className:"dropdown1",onChange:this.handleSortChange},c.a.createElement("option",{key:"default",value:"default"},"Default"),c.a.createElement("option",{key:"price-asc",value:"price-asc"},"Subtotal, low to high"),c.a.createElement("option",{key:"price-dsc",value:"price-dsc"},"Subtotal , high to low")))),this.state.sales.map(function(e,t){return c.a.createElement("div",{className:"sales-table-container"},c.a.createElement("tbody",{className:"sales-table"},c.a.createElement("h1",null,"Order #",t+1),c.a.createElement("h3",null,"Paypal Payment ID : ",e.paypalPaymentID),c.a.createElement("h3",null,"Subtotal : $",e.price),c.a.createElement("tr",null,c.a.createElement("th",null,"Product Id"),c.a.createElement("th",null,"Product Name"),c.a.createElement("th",null,"Quantity"),c.a.createElement("th",null,"Product Price")),e.productInfos.map(function(e){return c.a.createElement("tr",null,c.a.createElement("td",{"data-cell":"productId"},e.productId),c.a.createElement("td",{"data-cell":"product-name"},e.productName),c.a.createElement("td",{"data-cell":"quantity"},e.quantity),c.a.createElement("td",{"data-cell":"product-price"},"$",e.productPrice*e.quantity))})))}),c.a.createElement(S,null))}}]),t}(n.Component),V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSearchChange=function(e){var t=e.target.value.toLowerCase(),n=a.state.originalSales.filter(function(e){return e.productInfos.some(function(e){return e.productName.toLowerCase().includes(t)})});a.setState({sales:n})},a.handleSortChange=function(e){var t,n=a.state.sales;if("price-asc"===e.target.value)t=n.slice().sort(function(e,t){return e.price-t.price});else{if("price-dsc"!==e.target.value)return a.setState({sales:a.state.originalSales});t=n.slice().sort(function(e,t){return t.price-e.price})}a.setState({sales:t})},a.handleFilterChange=function(e){var t;"oldest"===e.target.value?(t=Object(T.a)(a.state.originalSales)).reverse():t=Object(T.a)(a.state.originalSales),a.setState({sales:t})},a.state={sales:[],originalSales:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.a.get("".concat(g,"/sales/").concat(this.props.match.params.id)).then(function(t){e.setState({sales:t.data,originalSales:t.data})}).catch(function(e){})}},{key:"render",value:function(){return c.a.createElement("div",{className:"main-container"},c.a.createElement(N,null),c.a.createElement(C,null),c.a.createElement("div",{className:"tool-buttons-container"},c.a.createElement("div",{className:"search-box-container"},c.a.createElement("input",{className:"search-box",placeholder:"Search by Product-Name",value:this.state.search,onChange:this.handleSearchChange})),c.a.createElement("div",{className:"filter-container"},c.a.createElement("label",null,"Filter "),c.a.createElement("select",{name:"price",className:"dropdown1",onChange:this.handleFilterChange},c.a.createElement("option",{key:"all",value:"all"},"All"),c.a.createElement("option",{key:"newest",value:"newest"},"Purchase Date: Newest to Oldest"),c.a.createElement("option",{key:"oldest",value:"oldest"},"Purchase Date: Oldest to Newest"))),c.a.createElement("div",{className:"sort-dropdown-container"},c.a.createElement("label",null,"Sort By : "),c.a.createElement("select",{name:"price",className:"dropdown1",onChange:this.handleSortChange},c.a.createElement("option",{key:"default",value:"default"},"Default"),c.a.createElement("option",{key:"price-asc",value:"price-asc"},"Subtotal, low to high"),c.a.createElement("option",{key:"price-dsc",value:"price-dsc"},"Subtotal , high to low")))),this.state.sales.map(function(e,t){return c.a.createElement("div",{className:"sales-table-container"},c.a.createElement("tbody",{className:"sales-table"},c.a.createElement("h1",null,"Order #",t+1),c.a.createElement("h3",null,"User : ",e.customerName),c.a.createElement("h3",null,"Email : ",e.customerEmail),c.a.createElement("h3",null,"Amount Paid: $",e.price),c.a.createElement("tr",null,c.a.createElement("th",null,"Product Id"),c.a.createElement("th",null,"Product Name"),c.a.createElement("th",null,"Quantity"),c.a.createElement("th",null,"Product Price")),e.productInfos.map(function(e){return c.a.createElement("tr",null,c.a.createElement("td",{"data-cell":"product-id"},e.productId),c.a.createElement("td",{"data-cell":"product-name"},e.productName),c.a.createElement("td",{"data-cell":"quantity"},e.quantity),c.a.createElement("td",{"data-cell":"product-price"},"$",e.productPrice*e.quantity))})))}))}}]),t}(n.Component);a(35);"undefined"===typeof localStorage.accessLevel&&(localStorage._id=null,localStorage.name="GUEST",localStorage.accessLevel=0,localStorage.token=null,localStorage.profilePhoto=null);var Y=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return c.a.createElement(d.a,null,c.a.createElement(p.d,null,c.a.createElement(p.b,{exact:!0,path:"/",component:Q}),c.a.createElement(p.b,{exact:!0,path:"/Home",component:Q}),c.a.createElement(p.b,{exact:!0,path:"/ResetDatabase",component:w}),c.a.createElement(p.b,{exact:!0,path:"/AllProducts",component:O}),c.a.createElement(p.b,{exact:!0,path:"/Login",component:R}),c.a.createElement(p.b,{exact:!0,path:"/Register",component:_}),c.a.createElement(p.b,{exact:!0,path:"/ProductPage/:id",component:M}),c.a.createElement(p.b,{exact:!0,path:"/Cart/:id",component:L}),c.a.createElement(p.b,{exact:!0,path:"/PayPalMessage/:messageType/:payPalPaymentID",component:x}),c.a.createElement(B,{exact:!0,path:"/PurchaseHistory/:id",component:W}),c.a.createElement(B,{exact:!0,path:"/Account/:id",component:F}),c.a.createElement(Z,{exact:!0,path:"/SalesHistory/:id",component:V}),c.a.createElement(B,{exact:!0,path:"/Logout",component:y}),c.a.createElement(Z,{exact:!0,path:"/AddProduct",component:j}),c.a.createElement(Z,{exact:!0,path:"/EditProduct/:id",component:k}),c.a.createElement(Z,{exact:!0,path:"/DeleteProduct/:id",component:A}),c.a.createElement(Z,{exact:!0,path:"/Users/",component:q}),c.a.createElement(Z,{exact:!0,path:"/DeleteUser/:id",component:U}),c.a.createElement(p.b,{path:"*",component:O})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.7f0a8ee1.chunk.js.map
(window.webpackJsonpecom_platform=window.webpackJsonpecom_platform||[]).push([[0],{19:function(e,t,a){},34:function(e,t,a){},38:function(e,t,a){e.exports=a(72)},60:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(35),r=a.n(c),l=a(2),s=a(3),i=a(5),u=a(4),m=a(6),d=a(1),p=a(15),h=a(7),g=a.n(h),f=2,E="http://localhost:4000",b=(a(60),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleATC=function(e){e.preventDefault();var t=new FormData;t.append("productId",a.props.product._id),t.append("userId",localStorage._id),t.append("quantity",1),t.append("productPrice",a.props.product.price),g.a.post("".concat(E,"/cart"),t,{headers:{authorization:localStorage.token,"Content-type":"multipart/form-data"}}).then(function(e){e.data?e.data.errorMessage?console.log(e.data.errorMessage):(console.log(e.data),console.log("Added to cart")):console.log("Not added to cart")})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.product.photos.map(function(e){return g.a.get("".concat(E,"/products/photo/").concat(e.filename)).then(function(t){t.data?t.data.errorMessage?console.log(t.data.errorMessage):document.getElementById(e._id).src="data:;base64,".concat(t.data.image):console.log("Record not found")})})}},{key:"render",value:function(){return o.a.createElement("div",{className:"box-container"},o.a.createElement(d.b,{to:"/ProductPage/"+this.props.product._id},this.props.product.photos.map(function(e,t){return o.a.createElement("img",{key:e._id,id:e._id,className:"image-".concat(t),alt:""})})),o.a.createElement("div",{className:"info-button-container"},o.a.createElement("div",{className:"box-info-container"},o.a.createElement(d.b,{to:"/ProductPage/"+this.props.product._id},o.a.createElement("p",{className:"product-name-p"},this.props.product.name)),o.a.createElement("p",null,"\u20ac",this.props.product.price)),localStorage.accessLevel>=f?o.a.createElement("div",{className:"box-button-container"},o.a.createElement(d.b,{className:"edit-button",to:"/EditProduct/"+this.props.product._id},o.a.createElement("i",{className:"fa fa-pencil"})),o.a.createElement(d.b,{className:"del-button",to:"/DeleteProduct/"+this.props.product._id},o.a.createElement("i",{className:"fa fa-trash-o"})),o.a.createElement("button",{className:"atc-button",onClick:this.handleATC},o.a.createElement("p",null,"+",o.a.createElement("i",{className:"fa fa-shopping-cart"})))):o.a.createElement("button",{className:"atc-button",onClick:this.handleATC},o.a.createElement("p",null,"+",o.a.createElement("i",{className:"fa fa-shopping-cart"})))))}}]),t}(n.Component)),v=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("span",{tabIndex:"0",className:this.props.className,onClick:function(t){e.props.onClick(t)}},this.props.value)}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),g.a.post("".concat(E,"/users/logout")).then(function(e){e.data?e.data.errorMessage?console.log(e.data.errorMessage):(console.log("User logged out"),localStorage.clear(),a.setState({isLoggedIn:!1})):console.log("Logout failed")})},a.state={isLoggedIn:!0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.state.isLoggedIn?null:o.a.createElement(p.a,{to:"/AllProducts"}),o.a.createElement(v,{value:"Log out",className:"logout-button",onClick:this.handleSubmit}))}}]),t}(n.Component),N=(a(66),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"nav-container"},o.a.createElement("p",{className:"brand-name-p"},o.a.createElement(d.b,{className:"brand-button",to:"/Home"},"Brand")),o.a.createElement("div",{className:"link-container"},o.a.createElement(d.b,{className:"button",to:"/Home"},"Home"),o.a.createElement(d.b,{className:"button",to:"/AllProducts"},"Shop"),o.a.createElement(d.b,{className:"button",to:"/AllProducts"},"About"),localStorage.accessLevel>=f?o.a.createElement(d.b,{className:"button",to:"/Users"},"Users"):null),localStorage.accessLevel>0?o.a.createElement("div",{className:"logout-container"},"null"!==localStorage.profilePhoto?o.a.createElement("img",{className:"profile-pic",id:"profilePhoto",src:"data:;base64,".concat(localStorage.profilePhoto),alt:""}):null,o.a.createElement(y,null),o.a.createElement(d.b,{className:"button",to:"/Cart/".concat(localStorage._id)},o.a.createElement("i",{className:"fa fa-shopping-cart"}))):o.a.createElement("div",{className:"login-container"},o.a.createElement(d.b,{className:"login-button",to:"/Login"},o.a.createElement("i",{class:"fa fa-user"})),o.a.createElement(d.b,{className:"button",to:"/Cart/".concat(localStorage._id)},o.a.createElement("i",{className:"fa fa-shopping-cart"}))))}}]),t}(n.Component)),C=(a(67),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"footer-container"},localStorage.accessLevel<1?o.a.createElement("div",{className:"contact-form-container"},o.a.createElement("h1",{className:"contact-form-h1"},"Subscribe to our Emails"),o.a.createElement("h4",{className:"contact-form-h2"},"We will email you about new products & discounts"),o.a.createElement("div",{className:"contact-form-input-container"},o.a.createElement("input",{type:"text",className:"contact-form-input",placeholder:"Email"}),o.a.createElement("button",{type:"submit"},o.a.createElement("i",{className:"fa fa-arrow-right"})))):null,o.a.createElement("div",{className:"footer-link-container"},o.a.createElement("div",{className:"info-container"},o.a.createElement("h2",null,"Check us Out!"),o.a.createElement(d.b,{className:"help-button",to:"/"},"About Us")),o.a.createElement("div",{className:"help-container"},o.a.createElement("h2",null,"Need Help?"),o.a.createElement(d.b,{className:"help-button",to:"/"},"Contact Us"),o.a.createElement(d.b,{className:"help-button",to:"/"},"Terms Of Service"),o.a.createElement(d.b,{className:"help-button",to:"/"},"Shipping Policy")),o.a.createElement("div",{className:"brand-container"},o.a.createElement("h2",null,"BrandName"),o.a.createElement("p",{className:"mission"},"We sell the best t-shirts in the world"),o.a.createElement("p",{className:"our-email"},"info@brandName.com "),o.a.createElement("p",{className:"our-number"},"Call Us: (012) 345-6789"))))}}]),t}(n.Component)),S=(a(68),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSearchChange=function(e){var t=e.target.value.toLowerCase(),n=a.state.originalProducts.filter(function(e){return e.name.toLowerCase().includes(t)});a.setState({products:n})},a.handleSortChange=function(e){var t,n=a.state.products;if("alphabet-asc"===e.target.value)t=n.slice().sort(function(e,t){return e.name.localeCompare(t.name)});else if("alphabet-dsc"===e.target.value)t=n.slice().sort(function(e,t){return t.name.localeCompare(e.name)});else if("price-asc"===e.target.value)t=n.slice().sort(function(e,t){return e.price-t.price});else{if("price-dsc"!==e.target.value)return a.setState({products:a.state.originalProducts});t=n.slice().sort(function(e,t){return t.price-e.price})}a.setState({products:t})},a.handleStockChange=function(e){var t,n=a.state.originalProducts;if("available"===e.target.value)t=n.filter(function(e){return e.stock>0});else{if("unavailable"!==e.target.value)return a.setState({products:a.state.originalProducts});t=n.filter(function(e){return e.stock<=0})}a.setState({products:t})},a.state={products:[],originalProducts:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get("".concat(E,"/products")).then(function(t){t.data?t.data.errorMessage?console.log(t.data.errorMessage):e.setState({products:t.data,originalProducts:t.data}):console.log("Record not found")})}},{key:"render",value:function(){return o.a.createElement("div",{className:"main-container"},o.a.createElement(N,null),o.a.createElement("div",{className:"heading-container"},o.a.createElement("h1",{className:"heading-h1"},"Products")),o.a.createElement("div",{className:"tool-buttons-container"},o.a.createElement("div",{className:"search-box-container"},o.a.createElement("input",{className:"search-box",placeholder:"Search by name",value:this.state.search,onChange:this.handleSearchChange})),o.a.createElement("div",{className:"filter-container"},o.a.createElement("label",null,"Filter "),o.a.createElement("select",{name:"price",className:"dropdown1",onChange:this.handleStockChange},o.a.createElement("option",{key:"all",value:"all"},"All"),o.a.createElement("option",{key:"available",value:"available"},"In Stock"),o.a.createElement("option",{key:"unavailable",value:"unavailable"},"Out of Stock"))),o.a.createElement("div",{className:"sort-dropdown-container"},o.a.createElement("label",null,"Sort By : "),o.a.createElement("select",{name:"price",className:"dropdown1",onChange:this.handleSortChange},o.a.createElement("option",{key:"default",value:"default"},"Default"),o.a.createElement("option",{key:"alphabet-asc",value:"alphabet-asc"},"Alphabetically, A-Z"),o.a.createElement("option",{key:"alphabet-dsc",value:"alphabet-dsc"},"Alphabetically, Z-A"),o.a.createElement("option",{key:"price-asc",value:"price-asc"},"Price, low to high"),o.a.createElement("option",{key:"price-dsc",value:"price-dsc"},"Price , high to low"))),localStorage.accessLevel>=f?o.a.createElement(d.b,{className:"blue-button",to:"/AddProduct"},"Add New Product"):null),o.a.createElement("div",{className:"collection-container"},this.state.products.map(function(e){return o.a.createElement("div",{className:"product-box-container"},o.a.createElement(b,{key:e._id,product:e}))})),o.a.createElement(C,null))}}]),t}(n.Component)),P=a(11),O=(a(19),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.handleFileChange=function(e){a.setState({selectedFiles:e.target.files})},a.handleSubmit=function(e){e.preventDefault(),a.setState({wasSubmittedAtLeastOnce:!0});var t=a.validate();if(Object.keys(t).every(function(e){return t[e]})){var n=new FormData;if(n.append("name",a.state.name),n.append("price",a.state.price),n.append("stock",a.state.stock),a.state.selectedFiles)for(var o=0;o<a.state.selectedFiles.length;o++)n.append("productPhotos",a.state.selectedFiles[o]);g.a.put("".concat(E,"/products/").concat(a.props.match.params.id),n,{headers:{authorization:localStorage.token}}).then(function(e){e.data?e.data.errorMessage?console.log(e.data.errorMessage):(console.log("Record updated"),a.setState({redirectToDisplayAllProducts:!0})):console.log("Record not updated")})}},a.state={name:"",price:"",stock:"",photos:"",selectedFiles:null,redirectToDisplayAllProducts:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.inputToFocus.focus(),g.a.get("".concat(E,"/products/").concat(this.props.match.params.id),{headers:{authorization:localStorage.token}}).then(function(t){t.data?t.data.errorMessage?console.log(t.data.errorMessage):e.setState({name:t.data.name,price:t.data.price,stock:t.data.stock,photos:t.data.photos}):console.log("Record not found")})}},{key:"validateName",value:function(){return/^[A-Za-z]+$/.test(String(this.state.name))}},{key:"validatePrice",value:function(){var e=parseInt(this.state.price);return e>=1&&e<=1e3}},{key:"validateStock",value:function(){var e=parseInt(this.state.stock);return e>=1&&e<=1e3}},{key:"validate",value:function(){return{name:this.validateName(),price:this.validatePrice(),stock:this.validateStock()}}},{key:"render",value:function(){var e=this,t="";return this.state.wasSubmittedAtLeastOnce&&(t=o.a.createElement("div",{className:"error"},"Product Details are incorrect",o.a.createElement("br",null))),o.a.createElement("div",{className:"main-container"},o.a.createElement(N,null),o.a.createElement("div",{className:"form-container"},o.a.createElement("h2",{className:"product-form-h2"},"Edit Product"),this.state.redirectToDisplayAllProducts?o.a.createElement(p.a,{to:"/AllProducts"}):null,t,o.a.createElement("div",{className:"input-label-conatiner"},o.a.createElement("label",{className:"edit-label"},"Product Name :"),o.a.createElement("input",{ref:function(t){e.inputToFocus=t},type:"text",name:"name",className:"edit-form-input",value:this.state.name,onChange:this.handleChange,placeholder:"Product-Name"})),o.a.createElement("div",{className:"input-label-conatiner"},o.a.createElement("label",{className:"edit-label"},"Price :"),o.a.createElement("input",{type:"text",name:"price",className:"edit-form-input",value:this.state.price,onChange:this.handleChange,placeholder:"Price"})),o.a.createElement("div",{className:"input-label-conatiner"},o.a.createElement("label",{className:"edit-label"},"Product Stock :"),o.a.createElement("input",{type:"text",name:"stock",className:"edit-form-input",value:this.state.stock,onChange:this.handleChange,placeholder:"Stock-Quantity"})),o.a.createElement("div",{className:"photo-upload-container"},o.a.createElement("input",{type:"file",id:"fileInput",className:"file-input",multiple:!0,onChange:this.handleFileChange,style:{border:"1px solid #ced4da",borderRadius:".25rem",padding:".375rem .75rem"}})),o.a.createElement("div",{className:"add-cancel-container"},o.a.createElement(v,{value:"Edit",className:"add-button",onClick:this.handleSubmit}),o.a.createElement(d.b,{className:"cancel-button",to:"/AllProducts"},"Cancel"))))}}]),t}(n.Component)),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.handleFileChange=function(e){a.setState({selectedFiles:e.target.files})},a.handleSubmit=function(e){e.preventDefault();var t=new FormData;if(t.append("name",a.state.name),t.append("price",a.state.price),t.append("stock",a.state.stock),a.state.selectedFiles)for(var n=0;n<a.state.selectedFiles.length;n++)t.append("productPhotos",a.state.selectedFiles[n]);g.a.post("".concat(E,"/products"),t,{headers:{authorization:localStorage.token,"Content-type":"multipart/form-data"}}).then(function(e){e.data?e.data.errorMessage?console.log(e.data.errorMessage):(console.log("Record added"),a.setState({redirectToDisplayAllProducts:!0})):console.log("Record not added")})},a.state={name:"",price:"",stock:"",selectedFiles:null,redirectToDisplayAllProducts:localStorage.accessLevel<f},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.inputToFocus.focus()}},{key:"validateName",value:function(){return/^[A-Za-z]+$/.test(String(this.state.name))}},{key:"validatePrice",value:function(){var e=parseInt(this.state.price);return e>=1&&e<=1e3}},{key:"validateStock",value:function(){var e=parseInt(this.state.stock);return e>=1&&e<=1e3}},{key:"validate",value:function(){return{name:this.validateName(),price:this.validatePrice(),stock:this.validateStock()}}},{key:"render",value:function(){var e=this,t="";return this.state.wasSubmittedAtLeastOnce&&(t=o.a.createElement("div",{className:"error"},"Product Details are invalid",o.a.createElement("br",null))),o.a.createElement("div",{className:"main-container"},o.a.createElement(N,null),o.a.createElement("div",{className:"form-container"},o.a.createElement("h2",{className:"product-form-h2"},"Add Product"),this.state.redirectToDisplayAllProducts?o.a.createElement(p.a,{to:"/AllProducts"}):null,t,o.a.createElement("input",{ref:function(t){e.inputToFocus=t},type:"text",name:"name",className:"product-form-input",value:this.state.name,onChange:this.handleChange,placeholder:"Product-Name"}),o.a.createElement("input",{type:"text",name:"price",className:"product-form-input",value:this.state.price,onChange:this.handleChange,placeholder:"Price"}),o.a.createElement("input",{type:"text",name:"stock",className:"product-form-input",value:this.state.stock,onChange:this.handleChange,placeholder:"Stock-Quantity"}),o.a.createElement("div",{className:"photo-upload-container"},o.a.createElement("input",{type:"file",id:"fileInput",className:"file-input",multiple:!0,onChange:this.handleFileChange,style:{border:"1px solid #ced4da",borderRadius:".25rem",padding:".375rem .75rem"}})),o.a.createElement("div",{className:"add-cancel-container"},o.a.createElement(v,{value:"Add",className:"add-button",onClick:this.handleSubmit}),o.a.createElement(d.b,{className:"cancel-button",to:"/AllProducts"},"Cancel"))))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.resetUsersModel=function(){g.a.post("".concat(E,"/users/reset_user_collection")).then(function(e){e.data?e.data.errorMessage?console.log(e.data.errorMessage):(console.log("User collection reset"),localStorage.clear()):console.log("Failed to reset User collection"),a.setState({isReset:!0})})},a.state={isReset:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{className:"form-container",noValidate:!0,id:"loginOrRegistrationForm"},this.state.isReset?o.a.createElement(p.a,{to:"/DisplayAllCars"}):null,o.a.createElement("p",null,'"Reset User Database" is only for testing purposes.',o.a.createElement("br",null),"All code on the client-side and server-side relating to resetting the database should be removed from any development release"),o.a.createElement(v,{value:"Reset User Database",className:"red-button",onClick:this.resetUsersModel})," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("p",null,"Reset the database and set up an administrator with:",o.a.createElement("br",null)," * email ",o.a.createElement("strong",null,"admin@admin.com"),o.a.createElement("br",null)," * password ",o.a.createElement("strong",null,'123!"\xa3qweQWE')),o.a.createElement(d.b,{className:"red-button",to:"/DisplayAllCars"},"Cancel"))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={redirectToDisplayAllProducts:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.delete("".concat(E,"/products/").concat(this.props.match.params.id),{headers:{authorization:localStorage.token}}).then(function(t){t.data?(t.data.errorMessage?console.log(t.data.errorMessage):console.log("Record deleted"),e.setState({redirectToDisplayAllProducts:!0})):console.log("Record not deleted")})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.redirectToDisplayAllProducts?o.a.createElement(p.a,{to:"/AllProducts"}):null)}}]),t}(n.Component),A=a(23),T=(a(69),a(22)),D=(a(70),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={redirectToDisplayAllProducts:!1,colour:"red"},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.match.params.messageType===t.messageType.SUCCESS?this.setState({heading:"PayPal Transaction Confirmation",message:"Your PayPal transaction was successful.",colour:"green"}):this.props.match.params.messageType===t.messageType.CANCEL?this.setState({heading:"PayPal Transaction Cancelled",message:"You cancelled your PayPal transaction. Therefore, the transaction was not completed."}):this.props.match.params.messageType===t.messageType.ERROR?this.setState({heading:"PayPal Transaction Error",message:"An error occured when trying to perform your PayPal transaction. The transaction was not completed. Please try to perform your transaction again."}):console.log("The 'messageType' prop that was passed into the PayPalMessage component is invalid. It must be one of the following: PayPalMessage.messageType.SUCCESS, PayPalMessage.messageType.CANCEL or PayPalMessage.messageType.ERROR")}},{key:"render",value:function(){return o.a.createElement("div",{className:"main-container"},o.a.createElement("div",{className:"payPalMessage"},this.state.redirectToDisplayAllProducts?o.a.createElement(p.a,{to:"/AllProducts"}):null,o.a.createElement("h3",{className:"paypal-h3-".concat(this.state.colour)},this.state.heading),o.a.createElement("p",{className:"paypal-p"},this.props.match.params.message),o.a.createElement("p",{className:"paypal-p"},this.state.message),this.props.match.params.messageType===t.messageType.SUCCESS?o.a.createElement("p",{className:"paypal-p"},"Your PayPal payment confirmation is"," ",o.a.createElement("span",{id:"payPalPaymentID"},this.props.match.params.payPalPaymentID)):null,o.a.createElement("p",{className:"paypal-continue-button",id:"payPalPaymentIDButton"},o.a.createElement(d.b,{className:"paypal-".concat(this.state.colour,"-button"),to:"/AllProducts"},"Continue"))))}}]),t}(n.Component));D.messageType={SUCCESS:"success",ERROR:"error",CANCEL:"cancel"};var w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).createOrder=function(e,t){return t.order.create({purchase_units:[{amount:{value:a.props.price}}]})},a.onApprove=function(e){g.a.post("".concat(E,"/sales/").concat(e.orderID,"/").concat(a.props.productId,"/").concat(localStorage._id,"/").concat(a.props.price,"/").concat(a.state.user.name,"/").concat(a.state.user.email),{headers:{authorization:localStorage.token,"Content-type":"multipart/form-data"}}).then(function(t){a.setState({payPalMessageType:D.messageType.SUCCESS,payPalOrderID:e.orderID,redirectToPayPalMessage:!0})}).catch(function(e){a.setState({payPalMessageType:D.messageType.ERROR,redirectToPayPalMessage:!0})})},a.onError=function(e){a.setState({payPalMessageType:D.messageType.ERROR,redirectToPayPalMessage:!0})},a.onCancel=function(e){a.setState({payPalMessageType:D.messageType.CANCEL,redirectToPayPalMessage:!0})},a.state={redirectToPayPalMessage:!1,payPalMessageType:null,payPalOrderID:null},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get("".concat(E,"/users/").concat(localStorage._id),{headers:{authorization:localStorage.token}}).then(function(t){t.data?t.data.errorMessage?console.log(t.data.errorMessage):e.setState({user:t.data}):console.log("Record not found")})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.redirectToPayPalMessage?o.a.createElement(p.a,{to:"/PayPalMessage/".concat(this.state.payPalMessageType,"/").concat(this.state.payPalOrderID)}):null,o.a.createElement(T.b,{options:{currency:"EUR","client-id":"AZajxhZoKq7XkGeK4R8O4rJPxDxA6tfgiEhxW2OjQVmYCRdh9NOT0TCi7DleD8Zg4_fFlA7-h-pQ_uZA"}},o.a.createElement(T.a,{style:{layout:"horizontal"},createOrder:this.createOrder,onApprove:this.onApprove,onError:this.onError,onCancel:this.onCancel})))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleQuantityChange=function(e){var t=e.target.getAttribute("index"),n={userId:localStorage._id,productId:a.state.cart[t].productId,quantity:parseInt(e.target.value)};g.a.put("".concat(E,"/cart/").concat(localStorage._id),n,{headers:{authorization:localStorage.token}}).then(function(e){if(e.data)if(e.data.errorMessage)console.log(e.data.errorMessage);else if(e.data.deleteMessage){a.setState({cart:e.data.cart});var n=0;a.state.cart.forEach(function(e){n+=e.quantity*e.productPrice}),a.setState({subTotal:n})}else{var o=Object(A.a)(a.state.cart);o[t]=e.data,a.setState({cart:o});var c,r=0;a.state.cart.forEach(function(e){r+=e.quantity*e.productPrice,c=a.state.products.filter(function(t){return t._id!==e.productId})}),a.setState({products:c}),a.setState({subTotal:r}),console.log("Cart updated")}else console.log("Cart not updated")});var o=0;a.state.cart.forEach(function(e){o+=e.quantity*e.productPrice}),a.setState({subTotal:o})},a.state={cart:[],products:[],subTotal:0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get("".concat(E,"/cart/").concat(this.props.match.params.id),{headers:{authorization:localStorage.token}}).then(function(t){t.data?t.data.errorMessage?console.log(t.data.errorMessage):t.data.deleteMessage?e.setState({cart:t.data.cart}):(e.setState({cart:t.data}),console.log("Succesful Request")):console.log("Record not found")})}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(this.state.cart!==t.cart){var n=0;this.state.cart.map(function(e){return n+=e.quantity*e.productPrice,g.a.get("".concat(E,"/products/").concat(e.productId),{headers:{authorization:localStorage.token}}).then(function(e){e.data?e.data.errorMessage?console.log(e.data.errorMessage):a.state.products.some(function(t){return t._id===e.data._id})||a.setState(function(t){return{products:[].concat(Object(A.a)(t.products),[e.data])}}):console.log("Record not found")}),a.setState({subTotal:n})})}this.state.products!==t.products&&this.state.products.map(function(e){return e.photos.map(function(e){return g.a.get("".concat(E,"/products/photo/").concat(e.filename)).then(function(t){t.data?t.data.errorMessage?console.log(t.data.errorMessage):document.getElementById(e._id).src="data:;base64,".concat(t.data.image):console.log("Record not found")})})})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"main-container"},o.a.createElement(N,null),o.a.createElement("div",{className:"cart-container"},o.a.createElement("h2",{className:"cart-h2"},"Your Cart"),this.state.cart.length>0&&this.state.products?this.state.cart.map(function(t,a){var n=e.state.products.find(function(e){return e._id===t.productId});return n?o.a.createElement("div",{className:"cart-product-info-container"},o.a.createElement("div",{className:"product-photo-container"},n.photos.map(function(e,t){return o.a.createElement("img",{className:"cart-main-image-".concat(t),key:e._id,id:e._id,alt:""})})),o.a.createElement("div",{className:"product-name-container"},o.a.createElement("span",null,n.name),o.a.createElement("div",{className:"quantity-container"},o.a.createElement("button",{className:"quantity-btn",value:1,index:a,onClick:e.handleQuantityChange},"+"),o.a.createElement("span",{className:"item-quantity-text"},e.state.cart[a].quantity),o.a.createElement("button",{className:"quantity-btn",value:-1,index:a,onClick:e.handleQuantityChange},"-"))),o.a.createElement("div",{className:"product-price-container"},o.a.createElement("span",null,"$",e.state.cart[a]&&e.state.cart[a].productPrice?(e.state.cart[a].productPrice*e.state.cart[a].quantity).toFixed(2):""))):o.a.createElement("p",null,"Couldn't load products")}):o.a.createElement("p",null,"No items in cart"),this.state.cart.length>0?o.a.createElement("div",null,o.a.createElement("div",{className:"subtotal-container"},o.a.createElement("span",{className:"subtotal-text"},"Subtotal:"),o.a.createElement("span",{className:"subtotal-num"},"$",this.state.subTotal.toFixed(2))),o.a.createElement("div",{className:"paypal-button"},o.a.createElement(w,{price:this.state.subTotal,productId:this.state.products,quantity:this.state.quantity}))):null))}}]),t}(n.Component),R=(a(71),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){e.target.classList.toggle("active");var t=e.target.nextElementSibling;t.style.maxHeight?t.style.maxHeight=null:t.style.maxHeight=t.scrollHeight+"px"},a.handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.handleATC=function(e){e.preventDefault();var t=new FormData;t.append("productId",a.state.product._id),t.append("userId",localStorage._id),t.append("quantity",1),t.append("productPrice",a.state.product.price),g.a.post("".concat(E,"/cart"),t,{headers:{authorization:localStorage.token,"Content-type":"multipart/form-data"}}).then(function(e){e.data?e.data.errorMessage?console.log(e.data.errorMessage):(console.log(e.data),console.log("Added to cart")):console.log("Not added to cart")})},a.state={product:[],quantity:1,item_price:0,total:0,loading:!0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"validateQuantity",value:function(){var e=parseInt(this.state.quantity);return e>=1&&e<=100}},{key:"componentDidMount",value:function(){var e=this;g.a.get("".concat(E,"/products/").concat(this.props.match.params.id),{headers:{authorization:localStorage.token}}).then(function(t){t.data?t.data.errorMessage?console.log(t.data.errorMessage):(e.setState({product:t.data}),console.log("Succesful Request")):console.log("Record not found")})}},{key:"componentDidUpdate",value:function(e){this.state.product!==e.product&&this.state.product.photos.map(function(e){return g.a.get("".concat(E,"/products/photo/").concat(e.filename)).then(function(t){t.data?t.data.errorMessage?console.log(t.data.errorMessage):document.getElementById(e._id).src="data:;base64,".concat(t.data.image):console.log("Record not found")})})}},{key:"render",value:function(){return o.a.createElement("div",{className:"main-container"},o.a.createElement(N,null),o.a.createElement("div",{className:"content-container"},o.a.createElement("div",{className:"left-container"},this.state.product.photos&&this.state.product.photos.length>0&&this.state.product.photos.map(function(e,t){return o.a.createElement("img",{className:"main-image-".concat(t),key:e._id,id:e._id,alt:""})})),o.a.createElement("div",{className:"right-container"},o.a.createElement("div",{className:"title-container"},o.a.createElement("h1",null,this.state.product.name),o.a.createElement("h3",null,"$",this.state.product.price)),o.a.createElement("div",{className:"description-container"},o.a.createElement("p",null,"This is the product description"),o.a.createElement("h3",null,"Quantity"),o.a.createElement("input",{className:"quantity",type:"number",name:"quantity",min:"1",max:"100",onChange:this.handleChange,value:this.state.quantity}),o.a.createElement("button",{className:"collapsible",onClick:this.handleClick},"Open Section 1"),o.a.createElement("div",{className:"content"},o.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.")),o.a.createElement("button",{className:"collapsible",onClick:this.handleClick},"Open Section 2"),o.a.createElement("div",{className:"content"},o.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.")),o.a.createElement("button",{className:"collapsible",onClick:this.handleClick},"Open Section 3"),o.a.createElement("div",{className:"content"},o.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.")),this.state.product.stock>0?o.a.createElement("div",{className:"buying-buttons"},o.a.createElement("button",{className:"product-page-atc-button",onClick:this.handleATC},o.a.createElement("p",null,"Add To Cart +",o.a.createElement("i",{className:"fa fa-shopping-cart"}))),o.a.createElement("div",{className:"paypal-buy-button"},o.a.createElement(w,{price:this.state.product.price*this.state.quantity,productId:this.state.product._id,quantity:this.state.quantity}))):o.a.createElement("p",null,"Sorry this item is out of stock")))),o.a.createElement(C,null))}}]),t}(n.Component)),_=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){g.a.post("".concat(E,"/users/login/").concat(a.state.email,"/").concat(a.state.password)).then(function(e){e.data?e.data.errorMessage?console.log(e.data.errorMessage):(console.log("User logged in"),console.log(e.data),localStorage._id=e.data._id,localStorage.name=e.data.name,localStorage.accessLevel=e.data.accessLevel,localStorage.profilePhoto=e.data.profilePhoto,localStorage.token=e.data.token,a.setState({isLoggedIn:!0})):console.log("Login failed")})},a.state={email:"",password:"",isLoggedIn:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"main-container"},o.a.createElement(N,null),o.a.createElement("form",{className:"form-container",noValidate:!0},o.a.createElement("h2",{className:"login-h2"},"Login"),o.a.createElement("h4",{className:"login-h4"},"don't have an account?",o.a.createElement(d.b,{className:"create-account-button",to:"/Register"},"Create One")),this.state.isLoggedIn?o.a.createElement(p.a,{to:"/AllProducts"}):null,o.a.createElement("input",{className:"login-input",type:"email",name:"email",placeholder:"Email",autoComplete:"email",value:this.state.email,onChange:this.handleChange}),o.a.createElement("input",{className:"login-input",type:"password",name:"password",placeholder:"Password",autoComplete:"password",value:this.state.password,onChange:this.handleChange}),o.a.createElement("div",{className:"confirmation-buttons-container"},o.a.createElement(v,{value:"Login",className:"form-login-button",onClick:this.handleSubmit}),o.a.createElement(d.b,{className:"form-cancel-button",to:"/AllProducts"},"Cancel"))))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(P.a)({},e.target.name,e.target.value))},a.handleFileChange=function(e){a.setState({selectedFile:e.target.files[0]})},a.handleSubmit=function(e){e.preventDefault();var t=new FormData;t.append("profilePhoto",a.state.selectedFile),g.a.post("".concat(E,"/users/register/").concat(a.state.name,"/").concat(a.state.email,"/").concat(a.state.password),t,{headers:{"Content-type":"multipart/form-data"}}).then(function(e){e.data?e.data.errorMessage?console.log(e.data.errorMessage):(console.log("User registered and logged in"),localStorage._id=e.data._id,localStorage.name=e.data.name,localStorage.accessLevel=e.data.accessLevel,localStorage.profilePhoto=e.data.profilePhoto,localStorage.token=e.data.token,a.setState({isRegistered:!0})):console.log("Registration failed")})},a.state={name:"",email:"",password:"",confirmPassword:"",selectedFile:null,isRegistered:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"main-container"},o.a.createElement(N,null),o.a.createElement("form",{className:"form-container",noValidate:!0,id:"loginOrRegistrationForm",onSubmit:this.handleSubmit},this.state.isRegistered?o.a.createElement(p.a,{to:"/AllProducts"}):null,o.a.createElement("h2",{className:"register-h2"},"Create an account"),o.a.createElement("h4",{className:"login-h4"},"Already have an account?",o.a.createElement(d.b,{className:"create-account-button",to:"/Login"},"Sign in")),o.a.createElement("input",{className:"register-input",name:"name",type:"text",placeholder:"Name",autoComplete:"name",value:this.state.name,onChange:this.handleChange,ref:function(t){e.inputToFocus=t}}),o.a.createElement("input",{className:"register-input",name:"email",type:"email",placeholder:"Email",autoComplete:"email",value:this.state.email,onChange:this.handleChange}),o.a.createElement("input",{className:"register-input",name:"password",type:"password",placeholder:"Password",autoComplete:"password",title:"Password)",value:this.state.password,onChange:this.handleChange}),o.a.createElement("input",{className:"register-input",name:"confirmPassword",type:"password",placeholder:"Confirm password",autoComplete:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleChange}),o.a.createElement("input",{type:"file",onChange:this.handleFileChange}),o.a.createElement("div",{className:"register-confirmation-buttons-container"},o.a.createElement(v,{value:"Register New User",className:"form-register-button",onClick:this.handleSubmit}),o.a.createElement(d.b,{className:"form-register-cancel-button",to:"/AllProducts"},"Cancel"))))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={users:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get("".concat(E,"/users")).then(function(t){t.data?t.data.errorMessage?console.log(t.data.errorMessage):e.setState({users:t.data}):console.log("Record not found")})}},{key:"render",value:function(){return o.a.createElement("div",{className:"main-container"},o.a.createElement(N,null),this.state.users.map(function(e){return o.a.createElement("div",{className:"user-table-container"},o.a.createElement("tbody",{className:"user-table"},o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Email"),o.a.createElement("th",null,"Access Level"),o.a.createElement("th",null,"Sale History"),o.a.createElement("th",null,"Actions")),o.a.createElement("tr",null,o.a.createElement("td",null,e.name),o.a.createElement("td",null,e.email),o.a.createElement("td",null,e.accessLevel),o.a.createElement("td",null,o.a.createElement(d.b,{className:"history-button",to:"/SalesHistory/"+e._id},"View History")),o.a.createElement("td",null,o.a.createElement(d.b,{className:"history-button",to:"/DeleteUser/"+e._id},"Edit"),o.a.createElement(d.b,{className:"history-button",to:"/DeleteUser/"+e._id},"Delete")))))}))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={redirectToDisplayAllUsers:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.delete("".concat(E,"/users/").concat(this.props.match.params.id),{headers:{authorization:localStorage.token}}).then(function(t){t.data?(t.data.errorMessage?console.log(t.data.errorMessage):console.log("User deleted"),e.setState({redirectToDisplayAllUsers:!0})):console.log("User not deleted")})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.redirectToDisplayAllUsers?o.a.createElement(p.a,{to:"/Users"}):null)}}]),t}(n.Component),U=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"main-container"},o.a.createElement(N,null),o.a.createElement("div",{className:"home-container"},o.a.createElement("h1",null,"Welcome to BrandName")),o.a.createElement(C,null))}}]),t}(n.Component),F=a(17),z=function(e){var t=e.component,a=e.exact,n=e.path,c=Object(F.a)(e,["component","exact","path"]);return o.a.createElement(p.b,{exact:a,path:n,render:function(e){return localStorage.accessLevel>0?o.a.createElement(t,Object.assign({},e,c)):o.a.createElement(p.a,{to:"/AllProducts"})}})},H=function(e){var t=e.component,a=e.exact,n=e.path,c=Object(F.a)(e,["component","exact","path"]);return o.a.createElement(p.b,{exact:a,path:n,render:function(e){return localStorage.accessLevel>1?o.a.createElement(t,Object.assign({},e,c)):o.a.createElement(p.a,{to:"/DisplayAllCars"})}})},B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={sales:[]},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get("".concat(E,"/sales/").concat(this.props.match.params.id)).then(function(t){t.data?t.data.errorMessage?console.log(t.data.errorMessage):(e.setState({sales:t.data}),console.log("Sales",e.state.sales)):console.log("Record not found")})}},{key:"render",value:function(){return o.a.createElement("div",{className:"main-container"},o.a.createElement(N,null),this.state.sales.map(function(e){return o.a.createElement("div",{className:"sales-table-container"},o.a.createElement("tbody",{className:"sales-table"},o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Email"),o.a.createElement("th",null,"Price")),o.a.createElement("tr",null,o.a.createElement("td",null,e.customerName),o.a.createElement("td",null,e.customerEmail),o.a.createElement("td",null,e.price))))}))}}]),t}(n.Component);a(34);"undefined"===typeof localStorage.accessLevel&&(localStorage._id=null,localStorage.name="GUEST",localStorage.accessLevel=0,localStorage.token=null,localStorage.profilePhoto=null);var Q=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement(d.a,null,o.a.createElement(p.d,null,o.a.createElement(p.b,{exact:!0,path:"/",component:U}),o.a.createElement(p.b,{exact:!0,path:"/Home",component:U}),o.a.createElement(p.b,{exact:!0,path:"/ResetDatabase",component:j}),o.a.createElement(p.b,{exact:!0,path:"/AllProducts",component:S}),o.a.createElement(p.b,{exact:!0,path:"/Login",component:_}),o.a.createElement(p.b,{exact:!0,path:"/Register",component:L}),o.a.createElement(p.b,{exact:!0,path:"/ProductPage/:id",component:R}),o.a.createElement(p.b,{exact:!0,path:"/Cart/:id",component:x}),o.a.createElement(p.b,{exact:!0,path:"/PayPalMessage/:messageType/:payPalPaymentID",component:D}),o.a.createElement(p.b,{exact:!0,path:"/SalesHistory/:id",component:B}),o.a.createElement(z,{exact:!0,path:"/Logout",component:y}),o.a.createElement(H,{exact:!0,path:"/AddProduct",component:k}),o.a.createElement(H,{exact:!0,path:"/EditProduct/:id",component:O}),o.a.createElement(H,{exact:!0,path:"/DeleteProduct/:id",component:M}),o.a.createElement(H,{exact:!0,path:"/Users/",component:I}),o.a.createElement(H,{exact:!0,path:"/DeleteUser/:id",component:q}),o.a.createElement(p.b,{path:"*",component:S})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.9880c708.chunk.js.map